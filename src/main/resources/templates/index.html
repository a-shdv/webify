<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Webify</title>
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

<div th:insert="blocks/header :: header"></div>


<div sec:authorize="isAuthenticated()">
    <div>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
               aria-expanded="false">
                <span sec:authentication="name"></span>
            </a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Мой профиль</a></li>
                <li><a class="dropdown-item" href="#">Мои посты</a></li>
                <li><a class="dropdown-item" href="#">Мои товары</a></li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn btn-light">Выйти</button>
                </form>
            </ul>
        </li>
    </div>
</div>


<form th:action="@{/post/create}" method="post"><br> <br>
    Название поста: <input type="text" name="header"><br> <br>
    Описание поста: <input type="text" name="description"> <br> <br>
    <input type="submit" value="Добавить пост">
</form>

<div>
    <tr th:each="post: ${posts}">
        <td th:text="'Заголовок: ' + ${post.header}"></td>
        <br>
        <td th:text="'Описание: ' + ${post.description}"></td>
        <br>
        <td th:text="'Автор: ' + ${post.getUsername()}"></td>
        <br>
    </tr>
</div>
<div>Список сообщений</div>
<form method="post" th:action="@{/filter}">
    <input type="text" name="filter">
    <button type="submit">Найти</button>
</form>
<div th:insert="blocks/footer :: footer"></div>
</body>
</html>